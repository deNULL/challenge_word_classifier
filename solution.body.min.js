for(var A="abcdefghijklmnopqrstuvwxyz$",P={},C={},i=0;26>i;i++)for(var j=0;26>j;j++){var s=[B[O++],B[O++],B[O++]],k=A[i]+A[j];P["^"+k[0]]=(P["^"+k[0]]||0)+s[0],P["^"]=(P["^"]||0)+s[0],P["^"+k]=(P["^"+k]||0)+s[0],P[k[0]]=(P[k[0]]||0)+s[1],P[k]=(P[k]||0)+s[1],P[A[j]+"$"]=(P[A[j]+"$"]||0)+s[2]}for(var k in P)if("^"!=k)for(var p=k.substr(0,k.length-1),i=0;27>i;i++)C[p+A[i]]=(C[p+A[i]]||0)+(i>A.indexOf(k[k.length-1])?P[k]:0);exports.test=function(r,s,t,i,e,k,n,f){if((r=r.replace(/'s$/,"")).indexOf("'")>-1||r.length>15)return!1;s=0,t=1,i=[];for(var u=0;u<=r.length;u++){if(e=r.substring(u-2,u+1)+(u==r.length?"$":""),n=e.substr(0,e.length-1),e.length<3?k=[C["^"+e],P["^"+e],P["^"+n]]:(e=e.substr(1),n=n.substr(1),k=[C[e],P[e],P[n]+P[n+"$"]]),!k[2])return!1;s+=k[0]*t/k[2],t*=k[1]/k[2],i.push(k[1]/k[2])}return i.sort(),f=(12064428*(s+.5*t)|0)%639001,!!(B[O+(f>>3)]&1<<(7&f))&&3*i[0]+i[1]>.01};
